{% extends "base.html" %}
{% block content %}
<form action="/tasks/{{task.id}}" method="post">
  <div>
    <label for="description">Description:</label>
    <input type="text" id="description" name="description" value="{{task.description}}" required autofocus>
  </div>
  <div>
    <label for="duration">Duration:</label>
    <input type="number" id="duration" name="duration" value="{{task.duration}}" required>
  </div>
  <div>
    <label for="completed">Completed:</label>
    <select id="completed" name="completed">
        <!-- Setting the dropdown to display what is in the table otherwise the first option on the list will be displayed-->
      <option value="true"
      {% if task.completed %} selected='selected' {% endif %}>
        True
      </option>
      <option value="false" {% if not task.completed %} selected='selected' {% endif %}>
        False
      </option>
    </select>
  </div>
  <div>
    <label for="user">User:</label>
    <!-- Setting the value of the box to be the username for the task owner -->
    <select id="user" name="user_id">
      {% for user in users %}
        <option value="{{ user.id }}" 
        {% if task.user.id == user.id %} selected='selected' {% endif %}>
          {{ user.first_name }}
        </option>
      {% endfor %}
    </select>
  </div>
  <button type="submit">Update Task</button>
</form>
{% endblock %}